# 문서 관리 시스템 의사결정 기록

> 이 문서는 "과제 대비 코드 템플릿/패턴 정리"를 어떻게 체계화할지 고민한 과정을 기록합니다.

---

## 1. 시작점: 문제 정의

### 원래 상황

- 과제 요구사항이 나오면 전체적인 판단 후 기술스택 선정
- 기능 구현 시 알고 있던 패턴들을 정확히 반영하지 못함
- 머릿속에 있어서 구현은 되지만, 원래 알던 걸 빠르게 차용하지 못함
- 그렇다고 단순 복붙은 안 됨 (맥락 없이 쓰면 확신이 없음)

### 핵심 니즈

```
"알고 있는 패턴을 빠르게, 정확하게, 확신을 가지고 적용하고 싶다"
```

---

## 2. 첫 번째 시도: 구조화된 문서

### 제안

카테고리별 분류 + 문서 구조 표준화

- patterns/, snippets/, cheatsheets/ 폴더
- 기본 설정 / 핵심 패턴 / 실전 예시 / 주의사항 섹션

### 문제점

> "템플릿은 결국 실제 잘 써야 되잖아? 사용처에 대한 맥락과 같이 녹아들었으면"

**통찰**: 코드만 있으면 안 됨. **"언제 써야 하는지"**가 함께 있어야 함.

---

## 3. 두 번째 시도: 맥락 추가

### 개선

1. **의사결정 트리**: "이 상황이면 → 이걸 써라"
2. **시나리오 기반**: 과제에서 나올 법한 상황별 적용
3. **Before/After**: 흔한 실수와 해결법

### 실행

react-query 문서를 5개 파일로 분리:

- 01-when-to-use.md (의사결정)
- 02-setup.md (설정)
- 03-patterns.md (패턴)
- 04-scenarios.md (시나리오)
- 05-pitfalls.md (실수)

### 문제점

> "직관적으로 보면 정리돼서 좋긴 한데, 과제 풀거나 급하게 써야 할 때 어떻게 활용할지 모르겠어"

**통찰**: 학습용으로는 좋지만 **실전 참조용**으로는 부족.

---

## 4. 세 번째 시도: Cheatsheet

### 제안

한 페이지짜리 복붙용 문서

### 문제점

> "설명이 너무 최소면 어느 상황에서 써야 하는지 확신이 안 들고, 맥락이 필요한 건 고민하지 않고 바로 써야 되니까"

**통찰**: "코드만"도 안 되고 "설명만"도 안 됨. **둘의 균형**이 필요.

---

## 5. 핵심 돌파구: 상황 중심 통합

### 깨달음

```
과제 중 워크플로우:
"이거 어떻게 하지?" → "뭘 써야 하지?" → "이게 맞나?" → "코드는?"
     (상황)              (선택)            (확신)        (구현)
```

각 단계가 **다른 파일에 흩어져 있는 게 문제**였음.

### 해결: 하나의 항목 안에서 전부 해결

```markdown
## 📌 [상황]

> 한 줄 요약 — 뭔지 바로 파악

### 이럴 때 쓴다 — 확신

### 이건 아니다 — 잘못된 선택 방지

### 바로 쓰기 — 복붙 코드

### 주의 — 실수 방지
```

### 최종 구조

```
doc/react-query/
├── index.md          # 사용법 안내
├── cheatsheet.md     # ⭐ 메인 (상황 → 확신 → 코드)
└── deep-dive/        # 더 알고 싶을 때
```

---

## 6. 새로운 고민: 정합성

> "이게 예전 내용이고, 트렌드도 바뀌고, 틀린 부분도 있을 수 있잖아?"

### 첫 시도: 버전 관리 시스템

- 메타데이터 (version, updated, status)
- VERIFICATION.md에 검증 로그
- 패턴별 버전 매트릭스

### 문제점

> "버전 얘기만 하니까 복잡해지고 안 와닿아"

**통찰**: 버전은 원인 중 하나일 뿐. 진짜 문제는 다양함:

- 버전이 바뀜
- 원래 내가 잘못 알았음
- 예전 프로젝트 레거시
- 블로그 보고 적었는데 틀림

**핵심 질문은 하나**: "이거 믿고 써도 되나?"

---

## 7. 단순화: 신뢰도 표시

### 원인 추적 대신 결과만 표시

```
✅ 확실함 — 바로 사용
⚠️ 미검증 — 쓰기 전 확인
❓ 불확실 — 먼저 확인
```

하지만 이것도 **혼자 관리해야 하는 부담**이 있음.

---

## 8. 방향 전환: 관리 패턴

> "문서보다는 관리 패턴을 고민해줘. 내가 주기적으로 관리할 방법"

### 핵심 원칙

별도 "문서 관리 시간"을 만들지 않는다.
**과제 사이클에 붙인다.**

```
과제 전 (2분)     과제 중        과제 후 (5분)
    │               │               │
 버전 확인      cheatsheet      회고 + 기록
 패턴 훑기       참조/사용      뭐가 틀렸나?
                               뭘 새로 알았나?
```

### CHANGELOG의 역할

- 시간이 지나도 "왜 바꿨지?"를 알 수 있게
- 오답노트 역할 (왜 틀렸는지까지 기록)

---

## 9. 또 다른 전환: Claude한테 시키기

> "내가 너한테 주기적으로 명령하면서 관리할 수도 있잖아?"

### 깨달음

혼자 CHANGELOG 쓰는 건 귀찮아서 안 하게 됨.
**Claude한테 시키면 부담이 없음.**

### 가능한 명령들

```
검증: "react-query 문서 현재 버전이랑 맞는지 확인해줘"
수정: "이번에 이런 문제 있었어, 문서 수정해줘"
추가: "이 패턴 추가해줘"
리뷰: "전체 훑어봐줘"
```

---

## 10. 최종 추가: inbox 패턴

> "과제가 아니더라도 평소에 개발하다가 조금씩 반영하고 싶어"

### 해결: 루트에 inbox/ 디렉토리

- 기술 분류 없이 자유롭게 메모
- 파일명, 형식 상관없이 던져놓기
- 나중에 "inbox 정리해줘" 하면 Claude가 분류해서 처리

```
평소 개발 중 발견
        │
        └─ inbox/에 아무렇게나 메모
           (기술 분류 X, 형식 X)
                │
                └─ "inbox 정리해줘"
                        │
                        └─ Claude가:
                           - 기술별로 분류
                           - 각 기술 cheatsheet에 반영
                           - 각 기술 CHANGELOG 기록
                           - inbox 파일 삭제
```

---

## 최종 구조

```
template/
├── CLAUDE.md                 # Claude 가이드 (시스템 규칙)
├── DECISION_LOG.md           # 이 파일 (의사결정 기록)
│
├── inbox/                    # 임시 메모 (기술 구분 없이 자유롭게)
│
├── doc/
│   └── [기술명]/             # 기술별 폴더
│       ├── index.md          # 사용법 안내
│       ├── cheatsheet.md     # ⭐ 메인 (상황 → 확신 → 코드)
│       ├── CHANGELOG.md      # 해당 기술의 변경 이력
│       └── deep-dive/        # 상세 설명 (선택)
│
└── src/                      # 실제 코드 템플릿
```

**예시**: `doc/react-query/`가 첫 번째로 구축됨

---

## 역할 분담

### 사용자

| 시점             | 행동            |
| ---------------- | --------------- |
| 평소 개발 중     | inbox/에 메모 (자유롭게) |
| 과제 전          | cheatsheet 훑기 |
| 과제 중          | cheatsheet 참조 |
| 과제 후 / 필요시 | Claude한테 명령 |

### Claude

| 명령             | 수행                                     |
| ---------------- | ---------------------------------------- |
| "inbox 정리해줘" | inbox → cheatsheet 반영 + CHANGELOG 기록 |
| "이거 확인해줘"  | 검증 후 답변 + 필요시 문서 수정          |
| "이거 수정해줘"  | 해당 부분 수정 + CHANGELOG 기록          |
| "전체 리뷰해줘"  | 현재 버전 기준 검토 + 수정               |

---

## 의사결정 요약

| 단계      | 고민                       | 결론                              |
| --------- | -------------------------- | --------------------------------- |
| 구조화    | 어떻게 분류할까?           | 상황 중심 통합 (cheatsheet)       |
| 맥락      | 언제 쓰는지 어떻게 담을까? | "이럴 때 쓴다 / 이건 아니다" 섹션 |
| 정합성    | 틀린 내용 어떻게 관리?     | 원인 추적 대신 신뢰도 표시        |
| 관리 방식 | 주기적 관리 어떻게?        | 과제 사이클에 붙이기              |
| 관리 주체 | 누가 하나?                 | Claude한테 시키기                 |
| 평소 반영 | 과제 아닐 때는?            | inbox 패턴                        |

---

## 핵심 교훈

1. **학습용 ≠ 실전용**: 잘 정리된 문서도 급할 때 못 쓰면 의미 없음
2. **분리 < 통합**: 상황-확신-코드가 한 곳에 있어야 함
3. **원인 < 결과**: "왜 틀렸나"보다 "믿어도 되나"가 실용적
4. **혼자 관리 < 위임**: 귀찮은 건 Claude한테 시키기
5. **형식 < 습관**: inbox처럼 부담 없이 쌓고, 정리는 나중에
