# CLAUDE.md

> 이 프로젝트의 문서 관리 시스템 가이드

---

## 프로젝트 개요

이 프로젝트는 **과제 대비용 코드 템플릿/패턴 모음**입니다.

**목표**: 알고 있는 패턴을 빠르게, 정확하게, 확신을 가지고 적용

**핵심 설계 원칙**:

- 상황 중심: "이 상황에서 뭘 쓰지?"에 바로 답
- 확신 제공: "이럴 때 쓴다 / 이건 아니다"
- 맥락 보존: CHANGELOG에 "왜"를 기록
- 부담 최소화: inbox에 던져놓고, 정리는 Claude가

---

## 프로젝트 구조

```
template/
├── CLAUDE.md                 ← 이 파일 (Claude 가이드)
├── DECISION_LOG.md           ← 시스템 설계 의사결정 기록
│
├── inbox/                    ← 임시 메모 (기술 구분 없이 자유롭게)
│   └── (자유롭게 파일 추가)
│
├── doc/
│   ├── libs/                 ← 기술 레퍼런스 (API/문법 중심)
│   │   ├── react-query/
│   │   │   ├── cheatsheet.md
│   │   │   ├── CHANGELOG.md
│   │   │   └── deep-dive/
│   │   ├── zustand/
│   │   └── date/
│   │
│   └── recipes/              ← 상황별 레시피 (실전 조합)
│       ├── data-fetching.md  # 데이터 가져오기 패턴
│       ├── state.md          # 상태 관리 패턴
│       └── ui.md             # UI/컴포넌트 조합 패턴
│
└── src/                      ← 실제 코드 템플릿
    ├── component/            # 공통 컴포넌트 + 스토리북
    ├── hooks/
    ├── store/
    └── api/
```

---

## 두 가지 문서 유형

### libs/ — 기술 레퍼런스

| 항목 | 설명 |
|------|------|
| **질문** | "useQuery 옵션 뭐였지?" |
| **내용** | 해당 기술의 API, 문법, 옵션 설명 |
| **용도** | 기술 학습, 문법 참조 |
| **구조** | 기술별 폴더 (cheatsheet.md + CHANGELOG.md) |

### recipes/ — 상황별 레시피

| 항목 | 설명 |
|------|------|
| **질문** | "무한 스크롤 어떻게 만들지?" |
| **내용** | 여러 기술/컴포넌트 조합한 실전 코드 |
| **용도** | 과제할 때 바로 복붙 |
| **구조** | 주제별 단일 파일 |

### 중복에 대해

- libs/와 recipes/에 같은 코드가 있을 수 있음
- **관점이 다르므로 괜찮음**: libs는 "기술 이해", recipes는 "바로 쓰기"
- 각각 독립적으로 관리

---

## 컴포넌트 관리

### src/component/ + 스토리북

- **역할**: 개별 컴포넌트 모양, props 확인
- **용도**: "Button이 어떻게 생겼지?" → 스토리북에서 확인

### recipes/ui.md

- **역할**: 컴포넌트 조합 패턴
- **용도**: "폼 필드 어떻게 조합하지?" → recipes/ui.md 참조

| 확인하고 싶은 것 | 어디서 |
|------------------|--------|
| Button의 variant들 | 스토리북 |
| Field + Input + Controller 조합 | recipes/ui.md |

---

## 각 파일/폴더의 역할

| 위치 | 역할 | 관리 주체 |
|------|------|-----------|
| `inbox/` | 임시 메모 (기술 구분 없이 자유롭게) | 사용자 |
| `doc/libs/[기술]/cheatsheet.md` | 기술 레퍼런스 (API/문법) | Claude |
| `doc/libs/[기술]/CHANGELOG.md` | 해당 기술의 변경 이력 | Claude |
| `doc/recipes/*.md` | 상황별 실전 레시피 | Claude |
| `src/component/` | 실제 컴포넌트 코드 + 스토리북 | 사용자/Claude |

---

## 사용자 워크플로우

```
평소 개발 중
    └─ 발견한 것 → inbox/에 아무렇게나 메모
       (기술 분류 신경 X, 형식 X, 파일명 자유)

과제 시작
    ├─ "이 기술 문법 뭐였지?" → doc/libs/[기술]/cheatsheet.md
    ├─ "이 상황 어떻게 해?" → doc/recipes/*.md
    └─ "이 컴포넌트 어떻게 생겼지?" → 스토리북

과제 후 / 필요할 때
    └─ Claude한테 명령
       - "inbox 정리해줘"
       - "이거 틀렸어, 수정해줘"
       - "이 패턴 추가해줘"
       - "전체 리뷰해줘"
```

---

## cheatsheet 작성 규칙

### libs/ cheatsheet (기술 레퍼런스)

```markdown
## 📌 [API/기능명]

> [한 줄 요약]

### 옵션/파라미터

- `option1`: 설명
- `option2`: 설명

### 바로 쓰기

```tsx
// 코드
```

### 주의

- (실수 방지 팁)
```

### recipes/ (상황별 레시피)

```markdown
## 📌 [상황 설명]

> [한 줄 요약] — 어떤 기술/컴포넌트 조합인지

### 이럴 때 쓴다

- (이 패턴을 선택해야 하는 상황들)

### 이건 아니다

- (잘못된 선택 방지, 대안 제시)

### 바로 쓰기

```tsx
// 복붙 가능한 조합 코드
```

### 파일 위치

- src/component/...
- src/hooks/...

### 주의

- (실수 방지 팁)
```

---

## CHANGELOG.md 작성 규칙

libs/ 각 기술 폴더에 CHANGELOG.md가 있음. 해당 기술의 변경 이력을 기록.

### 형식

```markdown
## YYYY-MM-DD (과제명 또는 컨텍스트)

### 🔴 오류 수정
- **위치**: 어느 섹션/패턴
- **틀렸던 것**: 뭐가 잘못됐었나
- **왜 틀렸나**: 원인 (버전, 착각, 레거시 등)
- **정답**: 올바른 내용
- **조치**: 문서 수정 완료

### ⚠️ 의심 등록
- **위치**:
- **의심 이유**:
- **확인 필요**:

### ✅ 검증 완료
- **위치**:
- **검증 방법**:

### ➕ 신규 추가
- **위치**:
- **내용**:
- **출처**:
```

### 기록 원칙

1. **맥락 보존**: "왜" 바꿨는지 반드시 기록
2. **과제/상황 명시**: 언제, 어떤 상황에서 발견했는지
3. **출처 기록**: 공식 문서, 블로그 등 참조한 곳

---

## 명령 처리 방법

### "inbox 정리해줘"

1. `inbox/` 디렉토리의 모든 파일 읽기
2. 각 메모를 분류:
   - 기술 문법/API → `doc/libs/[기술]/cheatsheet.md`
   - 상황별 조합 → `doc/recipes/*.md`
3. 해당 문서에 반영
4. CHANGELOG.md에 기록 (➕ 신규 추가) — libs만 해당
5. 처리된 `inbox/` 파일 삭제 (README.md 제외)

### "이거 틀렸어, 수정해줘"

1. 사용자가 말한 내용 파악
2. 해당 문서 수정 (libs/ 또는 recipes/)
3. libs/인 경우 CHANGELOG.md에 기록 (🔴 오류 수정)
   - 반드시 "왜 틀렸나" 포함

### "[패턴] 추가해줘"

1. 패턴 조사 (필요시 공식 문서 확인)
2. 적절한 위치 판단:
   - 기술 API 설명 → libs/
   - 실전 조합 → recipes/
3. 해당 형식에 맞게 작성
4. libs/인 경우 CHANGELOG.md에 기록 (➕ 신규 추가)

### "전체 리뷰해줘" / "점검해줘"

1. 현재 라이브러리 버전 확인
2. 공식 문서와 대조
3. outdated/변경된 부분 찾기
4. 수정 필요한 부분 보고
5. 사용자 승인 후 수정 + CHANGELOG 기록

### "이 패턴 맞는지 확인해줘"

1. 공식 문서 확인
2. 맞으면: "맞습니다" + 근거
3. 틀리면: 정확한 내용 설명 + 문서 수정 제안

---

## 새 문서 추가 시

### libs/ — 새 기술 추가

```
doc/libs/[기술명]/
├── cheatsheet.md
├── CHANGELOG.md
└── deep-dive/        (선택)
```

**cheatsheet.md 초기 템플릿**:

```markdown
# [기술명] Cheatsheet

> API/문법 레퍼런스

---

## 📌 [API/기능명]

> 한 줄 요약

### 옵션/파라미터

-

### 바로 쓰기

```tsx
// 코드
```

### 주의

-
```

**CHANGELOG.md 초기 템플릿**:

```markdown
# CHANGELOG

> 변경 이력 + 맥락 (Claude가 관리)

---

## YYYY-MM-DD (초기 구축)

### ➕ 신규 생성
- 초기 문서 구조 생성
- 기준 버전: [버전]
```

### recipes/ — 새 주제 추가

단일 파일로 생성: `doc/recipes/[주제].md`

```markdown
# [주제] Recipes

> 상황별 실전 조합

---

## 📌 [상황]

> 한 줄 요약 — 어떤 기술/컴포넌트 조합

### 이럴 때 쓴다

-

### 이건 아니다

-

### 바로 쓰기

```tsx
// 코드
```

### 파일 위치

-

### 주의

-
```

---

## 신뢰도 표시 (선택적)

필요시 섹션 제목에 표시:

| 상태 | 의미 |
|------|------|
| ✅ | 검증됨 — 실제 사용해봤고 동작함 |
| ⚠️ | 미검증 — 아직 직접 안 써봄 |
| ❓ | 불확실 — 확인 필요 |

---

## 참고

- [DECISION_LOG.md](DECISION_LOG.md): 이 시스템의 설계 의사결정 과정
- 현재 구축된 기술: `doc/libs/react-query/` (예시)
